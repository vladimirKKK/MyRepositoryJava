package catalog;

import java.io.*;
import java.util.regex.*;

public class FindJavaDoc2 {
    /**
     * Метод проверки наличия заданных элементов JavaDoc в файле.
     * 
     * @param fileName
     *            имя файла
     * @param regex
     *            дескрипторы поиска
     * 
     */
    static void outputExistsJavaDoc(String fileName, String... regex)
            throws FileNotFoundException, IOException {

        FileReader fr = new FileReader(fileName);
        BufferedReader br = new BufferedReader(fr);
        StringBuilder stringBuffer = new StringBuilder();
        String line;

        /* вывод полного названия файла */
        System.out.println(fileName);

        while ((line = br.readLine()) != null) {
            stringBuffer.append(line);
        }
        line = stringBuffer.toString();
        br.close();

        for (int i = 0; i < regex.length; i++) {
            outputExistsJavaDocOne(line, regex[i]);
        }
    }
/**
 * Метод поиска дескриптора в тексте файла.
 * @param stringBuffer текст файла
 * @param regex дескриптор поиска
 */
    static void outputExistsJavaDocOne(String line, String regex) {
        /* Создаеие шаблона поиска author JavaDoc */
        Pattern regexP = Pattern.compile(".*" + regex + ".*");
        Matcher regexM = regexP.matcher(line);

        if (regexM.matches())
            System.out.println(" JavaDoc " + regex + " is exists");
        else
            System.out.println(" JavaDoc " + regex + " is not exists");
    }

    /**
     * Метод Main проверки наличия заданных элементов JavaDoc в файле.
     * 
     * @param args
     * 
     */
    public static void main(String[] args) throws FileNotFoundException,
            IOException {
        //outputExistsJavaDoc("c:\\Documents and Settings\\Test\\Test2\\TimeFormat.java","@author", "@param", "@return");
        outputExistsJavaDoc("C:\\Documents and Settings\\relexuser\\Мои документы\\Test","xml");
    }
}
